
daemonSet: false
replicaCount: 1

securityContext:
  privileged: true

volumes:
  - name: varlog
    hostPath:
      path: /var/log
      type: DirectoryOrCreate

volumeMounts:
  - name: varlog
    mountPath: /var/log
    readOnly: true

input:
  tail:
    path: /var/log/containers/*.log
    db: /var/log/flb_kube.db
    tag: kube.*
    parser: docker

output:
  loki:
    enabled: true
    host: loki
    port: 3100
    labels:
      job: varlogs
    match: kube.*

tls:
  enabled: true
  certificate_file: /fluent-bit/tls/client.crt
  key_file: /fluent-bit/tls/client.key
  ca_file: /fluent-bit/tls/ca.crt
  insecure_skip_verify: false
